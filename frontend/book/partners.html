<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Partner Growth Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* ========== Base ========== */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', sans-serif;
      background: #f8f9fa; color: #212529; line-height: 1.5; font-size: 14px;
    }
    .container { max-width: 1400px; margin: 0 auto; padding: 24px; }
    header { margin-bottom: 24px; }
    h1 { font-size: 24px; font-weight: 700; color: #212529; margin-bottom: 4px; }
    .header-subtitle { color: #6c757d; font-size: 14px; }

    /* ========== Grid (1 per row) ========== */
    .partners-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      margin-top: 16px;
    }

    /* ========== Partner Card ========== */
    .partner-card {
      background: #fff; border: 1px solid #dee2e6; border-radius: 10px; overflow: hidden;
      transition: box-shadow .2s, transform .2s; position: relative;
    }
    .partner-card:hover { box-shadow: 0 6px 16px rgba(0,0,0,.08); transform: translateY(-1px); }
    .partner-card.selected { border-color: #0d6efd; box-shadow: 0 0 0 2px rgba(13,110,253,.15); }

    .partner-header {
      padding: 18px 20px; display:flex; justify-content:space-between; align-items:baseline; gap:12px;
      cursor: pointer; background: #fff;
    }
    .partner-name { font-size: 18px; font-weight: 700; color: #212529; }
    .partner-budget { font-size: 24px; font-weight: 700; color: #212529; white-space: nowrap; }
    .budget-label { font-size: 12px; color: #6c757d; font-weight: 500; }

    /* Distribution strip */
    .advertiser-breakdown { padding: 16px 20px; background: #f8f9fa; border-top: 1px solid #e9ecef; }
    .breakdown-items { display: grid; grid-template-columns: repeat(3, minmax(160px, 1fr)); gap: 10px; }
    .breakdown-item {
      display: flex; justify-content: space-between; align-items: center; padding: 8px 10px;
      background: #fff; border: 1px solid #dee2e6; border-radius: 6px;
    }
    .risk-dot { width: 8px; height: 8px; border-radius: 999px; display:inline-block; }
    .risk-high { background: #dc3545; } .risk-medium { background: #ffc107; } .risk-low { background: #28a745; }
    .breakdown-label { color:#495057; display:flex; align-items:center; gap:8px; font-weight:600; }
    .breakdown-count { font-size: 18px; font-weight: 700; color:#212529; }

    /* KPIs */
    .opportunities { padding: 16px 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 12px; background: #fff; border-top: 1px solid #e9ecef; }
    .opportunity-card { padding: 12px; background: #fff; border: 1px solid #dee2e6; border-radius: 8px; text-align: center; }
    .opportunity-card.primary { background: #e7f3ff; border-color: #0d6efd; }
    .opp-number { font-size: 28px; font-weight: 800; line-height: 1; }
    .opp-number.primary { color: #0d6efd; }
    .opp-number.success { color: #28a745; }
    .opp-label { font-size: 11px; color: #6c757d; margin-top: 4px; text-transform: uppercase; letter-spacing: .3px; font-weight: 700; }

    /* ========== Inline Drop (Detail) ========== */
    .detail-drop {
      display: none; border-top: 1px solid #e9ecef; background: #fff;
      animation: fadeIn .16s ease-out;
    }
    .detail-drop.show { display: block; }
    @keyframes fadeIn { from { opacity:0 } to { opacity:1 } }

    .panel-header {
      padding: 18px 20px; display: flex; justify-content: space-between; align-items: center;
      background: #fff; border-bottom: 1px solid #e9ecef;
    }
    .panel-title { font-size: 18px; font-weight: 700; color: #212529; }
    .playbook-info { font-size: 13px; color: #6c757d; padding: 6px 10px; background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 6px; }

    .action-group { border-top: 1px solid #e9ecef; }
    .group-header { padding: 16px 20px; background: #f8f9fa; border-bottom: 1px solid #e9ecef; display:flex; justify-content:space-between; align-items:center; }
    .group-title { font-size: 15px; font-weight: 700; color: #212529; }
    .group-count { font-size: 13px; color: #6c757d; padding: 4px 10px; background: #fff; border: 1px solid #dee2e6; border-radius: 14px; font-weight: 700; }

    .table-header { display: grid; padding: 10px 20px; background: #fff; border-bottom: 1px solid #dee2e6; font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: .5px; color: #6c757d; }
    .table-header.advertiser { grid-template-columns: 2.2fr 1.3fr 1fr 1.1fr; }
    .table-header.campaign   { grid-template-columns: 2.6fr 1fr 1fr 1fr 1.1fr; }

    .advertiser-table { width: 100%; }
    .advertiser-row {
      display: grid; grid-template-columns: 2.2fr 1.3fr 1fr 1.1fr; align-items: center; padding: 14px 20px;
      border-bottom: 1px solid #f1f3f5; transition: background .15s;
    }
    .advertiser-row:hover { background: #f8f9fa; }
    .advertiser-info { display: flex; flex-direction: column; gap: 2px; }
    .advertiser-name { font-size: 15px; font-weight: 700; color: #212529; }
    .advertiser-meta { font-size: 13px; color: #6c757d; }
    .active-products { display: flex; gap: 6px; align-items: center; flex-wrap: wrap; }
    .product-badge { padding: 3px 7px; background: #e7f3ff; color: #0d6efd; border: 1px solid #b3d7ff; border-radius: 4px; font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: .3px; }
    .product-badge.search { background: #e7f3ff; color: #0d6efd; border-color: #b3d7ff; }
    .product-badge.seo { background: #e7f6e7; color: #28a745; border-color: #b8e6b8; }
    .product-badge.display { background: #fff3cd; color: #856404; border-color: #ffe69c; }
    .product-badge.social { background: #f8d7da; color: #721c24; border-color: #f1b0b7; }
    .product-badge.chat { background: #d1ecf1; color: #0c5460; border-color: #bee5eb; }
    .product-badge.other { background: #f8f9fa; color: #6c757d; border-color: #dee2e6; }
    .performance-metric { text-align: center; }
    .perf-value { font-size: 16px; font-weight: 800; }
    .perf-good { color: #28a745; } .perf-ok { color: #495057; } .perf-bad { color: #dc3545; }
    .perf-label { font-size: 11px; color: #6c757d; }

    .action-wrapper { display: flex; flex-direction: column; align-items: flex-end; gap: 4px; }
    .action-btn { padding: 8px 14px; background: #0d6efd; color: #fff; border: none; border-radius: 6px; font-size: 13px; font-weight: 800; cursor: pointer; transition: all .15s; white-space: nowrap; }
    .action-btn:hover { background: #0b5ed7; transform: translateX(-1px); }
    .action-btn.success { background: #28a745; }
    .action-btn.success:hover { background: #218838; }
    .impact-text { font-size: 11px; color: #6c757d; }

    .campaign-row {
      display: grid; grid-template-columns: 2.6fr 1fr 1fr 1fr 1.1fr; align-items: center; padding: 14px 20px;
      border-bottom: 1px solid #f1f3f5; transition: background .15s;
    }
    .campaign-row:hover { background: #f8f9fa; }
    .budget-current { text-align: center; font-size: 15px; font-weight: 800; color: #495057; }
    .budget-recommended { text-align: center; font-size: 15px; font-weight: 800; color: #28a745; }
    .budget-change { font-size: 12px; color: #6c757d; margin-top: 2px; }

    /* Misc */
    .caret { margin-left: auto; font-size: 18px; color: #6c757d; transition: transform .15s; }
    .caret.open { transform: rotate(90deg); }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Partner Growth Dashboard</h1>
      <p class="header-subtitle">Move advertisers to 3+ products â†’ 40% better retention</p>
    </header>

    <div id="partners-root">
      <div id="partners-grid" class="partners-grid" aria-live="polite">
        <!-- Cards render here -->
      </div>
    </div>
  </div>

  <script type="module" src="./partners.js?v=partners-v6-20250909-fixed"></script>
</body>
</html>
